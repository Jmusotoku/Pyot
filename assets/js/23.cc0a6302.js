(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{374:function(t,s,a){"use strict";a.r(s);var e=a(42),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"version-3-0-→-3-1"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#version-3-0-→-3-1"}},[t._v("#")]),t._v(" Version 3.0 → 3.1")]),t._v(" "),a("p",[t._v("This guide "),a("strong",[t._v("covers only backward imcompatible changes")]),t._v(" and the necessary steps for migrating Pyot 2 to Pyot 3. For Pyot 3 release notes please head to releases.")]),t._v(" "),a("h2",{attrs:{id:"changes"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#changes"}},[t._v("#")]),t._v(" Changes")]),t._v(" "),a("h3",{attrs:{id:"store-mongodb-now-only-stores-data-as-bson-format"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#store-mongodb-now-only-stores-data-as-bson-format"}},[t._v("#")]),t._v(" Store "),a("code",[t._v("MongoDB")]),t._v(" now only stores data as bson format.")]),t._v(" "),a("blockquote",[a("p",[t._v("MongoDB is NOT compatible of v3.0, it now uses bson format for caching, after updating to v3.1, old items are automatically deleted progressively when accessed. To maintain old cached items, run the following in python shell with settings activated.")]),t._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" pyot"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("migrate"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("mongodb "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" migrate_all_to_bson\nmigrate_all_to_bson"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("p",[t._v("Clearing the cache instead is the fastest approach without any hassle.")]),t._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" pyot"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pipeline "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" pipelines\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" pyot"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("stores "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" MongoDB\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" asyncio "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" run\n\npipeline "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" pipelines"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("model"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" store "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" pipeline"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("isinstance")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("store"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" MongoDB"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        run"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("store"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("clear"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br")])])]),t._v(" "),a("h3",{attrs:{id:"lol-currentgame-has-been-reworked"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#lol-currentgame-has-been-reworked"}},[t._v("#")]),t._v(" "),a("code",[t._v("lol.CurrentGame")]),t._v(" has been reworked.")]),t._v(" "),a("blockquote",[a("p",[t._v("Full list of new / changed attributes are in the docs.")])]),t._v(" "),a("h3",{attrs:{id:"lol-featured-has-been-reworked"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#lol-featured-has-been-reworked"}},[t._v("#")]),t._v(" "),a("code",[t._v("lol.Featured")]),t._v(" has been reworked.")]),t._v(" "),a("blockquote",[a("p",[t._v("Full list of new / changed attributes are in the docs.")])])])}),[],!1,null,null,null);s.default=n.exports}}]);